[2026-01-29]
- Completed Tracer Bullet: TTB PDF -> JSON (Issue #1) - Stub Implementation.
- Completed Project Scaffold: FastAPI, Pydantic, PyMuPDF, and uv setup (Issue #2).
- Completed PDF text extraction with coordinates using PyMuPDF (Issue #3).
- Key decisions: Used PyMuPDF `get_text("blocks")` for reliable coordinate extraction; used Pydantic models for structured raw data.
- Files changed:
    - src/credit_card_extraction/extractor.py (new file)
    - tests/test_extractor.py (new test)
    - plans/progress.txt (updated)
- Notes: Next step is line normalization (Issue #4).
- Completed Line Normalizer: Grouping by Y-tolerance and sorting by X (Issue #4).
- Key decisions: Used 3.0px Y-tolerance for row grouping; rows are sorted by X0 to ensure correct reading order even if columns are interleaved in raw text.
- Files changed:
    - src/credit_card_extraction/extractor.py (added NormalizedLine and normalize_lines)
    - tests/test_extractor.py (added normalization tests)
- Notes: Ready for State Machine Parser (Issue #5).
- Completed State Machine Parser Skeleton (Issue #5) and ADR-0001 (Architecture).
- Key decisions: 
    - Moved all domain models (RawLine, NormalizedLine) and target schema (ExtractionResult) to a dedicated models.py.
    - Implemented StatementParser as a state machine using a ParserState enum.
    - Added ADR in plans/adr-001-parser-architecture.md.
- Files changed:
    - src/credit_card_extraction/models.py (new)
    - src/credit_card_extraction/extractor.py (refactored to use models, added StatementParser)
    - plans/adr-001-parser-architecture.md (new)
    - tests/test_extractor.py (updated)
    - tests/test_parser_state.py (new)
- Completed TTB provider classifier + transaction parsing rules (Issue #6).
- Key decisions:
    - Removed line flattening to preserve PyMuPDF's block-level grouping, which often contains the whole transaction row.
    - Implemented a "pending FX" state to capture foreign currency amounts that appear on lines preceding the transaction date.
    - Added TTB-specific regex for account number (card) and statement date extraction.
- Files changed:
    - src/credit_card_extraction/extractor.py (Added TTB parsing logic and patterns)
- Notes: Ready for JSON domain models + validation shell (Issue #7).
- Performed deep purge of sensitive PDF statements from git history using git-filter-repo.
- Updated .gitignore to permanently exclude test-pdf/*.pdf.
- Verified local files remain on disk but are no longer tracked.
- Force pushed clean history to main.
